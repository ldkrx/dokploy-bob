providers:
  traefik:
    target: ./tests/results/traefik.yaml
  nginx:
    target: ./tests/results/nginx
  node:
    target: ./tests/results/node.json

services:
  service-1:
    domains:
      - example.com
      - www.example.com
    providers:
      - traefik
      - nginx
    port: 8080
    php:
      version: 8.1
      root: /var/www/service-1/public

  service-2:
    domains:
      - blog.example.com
      - www.blog.example.com
    providers:
      - traefik
      - node
    port: 3001
    node:
      script: /var/www/service-2/server.js
      interpreter: /root/.nvm/versions/node/v22.20.0/bin/node
      post-update:
        - npm install
